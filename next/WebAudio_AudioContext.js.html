<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>WebAudio/AudioContext.js - ITSLanguage JavaScript SDK</title>
    
    <meta name="description" content="Speech technology for language education. JSDoc 3 website for the JavaScript SDK." />
    
        <meta name="keywords" content="itslangauge, jsdoc, documentation, speech, speech technology" />
        <meta name="keyword" content="itslangauge, jsdoc, documentation, speech, speech technology" />
    
    
    
    <meta property="og:title" content="ITSLanguage JavaScript SDK"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://avatars0.githubusercontent.com/u/20972344?s=400&u=73936e7fa2d2a1e5c180a11675bf9166d3717a6d&v=4"/>
    <meta property="og:site_name" content="ITSLanguage JavaScript SDK"/>
    <meta property="og:url" content="http://itslanguage.github.io/itslanguage-js/"/>
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    <h2><a href="index.html">Home</a></h2><h2><a href="https://github.com/itslanguage/itslanguage-js" target="_blank" class="menu-item" id="repository" >Github repo</a></h2><h3>Modules</h3><ul><li><a href="module-sdk.html">sdk</a><ul class='methods'><li data-type='method'><a href="module-sdk.html#.createAudioPlayer">createAudioPlayer</a></li><li data-type='method'><a href="module-sdk.html#.createAudioRecorder">createAudioRecorder</a></li><li data-type='method'><a href="module-sdk.html#.createItslSdk">createItslSdk</a></li><li data-type='method'><a href="module-sdk.html#.createPlayer">createPlayer</a></li><li data-type='method'><a href="module-sdk.html#.createStopwatch">createStopwatch</a></li><li data-type='method'><a href="module-sdk.html#.createVolumeMeter">createVolumeMeter</a></li></ul></li><li><a href="module-sdk_lib_api_authentication.html">sdk/lib/api/authentication</a><ul class='methods'><li data-type='method'><a href="module-sdk_lib_api_authentication.html#.assembleScope">assembleScope</a></li><li data-type='method'><a href="module-sdk_lib_api_authentication.html#.authenticate">authenticate</a></li><li data-type='method'><a href="module-sdk_lib_api_authentication.html#.impersonate">impersonate</a></li></ul></li><li><a href="module-sdk_lib_api_basicauth.html">sdk/lib/api/basicauth</a><ul class='methods'><li data-type='method'><a href="module-sdk_lib_api_basicauth.html#.create">create</a></li></ul></li><li><a href="module-sdk_lib_api_broadcaster.html">sdk/lib/api/broadcaster</a></li><li><a href="module-sdk_lib_api_categories.html">sdk/lib/api/categories</a><ul class='methods'><li data-type='method'><a href="module-sdk_lib_api_categories.html#.create">create</a></li><li data-type='method'><a href="module-sdk_lib_api_categories.html#.getAll">getAll</a></li><li data-type='method'><a href="module-sdk_lib_api_categories.html#.getAllWithParentId">getAllWithParentId</a></li><li data-type='method'><a href="module-sdk_lib_api_categories.html#.getById">getById</a></li><li data-type='method'><a href="module-sdk_lib_api_categories.html#.update">update</a></li></ul></li><li><a href="module-sdk_lib_api_challenges.html">sdk/lib/api/challenges</a><ul class='members'><li data-type='member'><a href="module-sdk_lib_api_challenges.html#.choice">choice</a></li><li data-type='member'><a href="module-sdk_lib_api_challenges.html#.choiceRecognition">choiceRecognition</a></li><li data-type='member'><a href="module-sdk_lib_api_challenges.html#.feedback">feedback</a></li><li data-type='member'><a href="module-sdk_lib_api_challenges.html#.feedbackSpeech">feedbackSpeech</a></li><li data-type='member'><a href="module-sdk_lib_api_challenges.html#.pronunciation">pronunciation</a></li><li data-type='member'><a href="module-sdk_lib_api_challenges.html#.pronunciationAnalysis">pronunciationAnalysis</a></li><li data-type='member'><a href="module-sdk_lib_api_challenges.html#.speech">speech</a></li><li data-type='member'><a href="module-sdk_lib_api_challenges.html#.speechRecording">speechRecording</a></li></ul></li><li><a href="module-sdk_lib_api_challenges_choice.html">sdk/lib/api/challenges/choice</a><ul class='methods'><li data-type='method'><a href="module-sdk_lib_api_challenges_choice.html#.create">create</a></li><li data-type='method'><a href="module-sdk_lib_api_challenges_choice.html#.getAll">getAll</a></li><li data-type='method'><a href="module-sdk_lib_api_challenges_choice.html#.getById">getById</a></li></ul></li><li><a href="module-sdk_lib_api_challenges_choice_recognition.html">sdk/lib/api/challenges/choice/recognition</a><ul class='methods'><li data-type='method'><a href="module-sdk_lib_api_challenges_choice_recognition.html#.create">create</a></li><li data-type='method'><a href="module-sdk_lib_api_challenges_choice_recognition.html#.getAll">getAll</a></li><li data-type='method'><a href="module-sdk_lib_api_challenges_choice_recognition.html#.getById">getById</a></li><li data-type='method'><a href="module-sdk_lib_api_challenges_choice_recognition.html#.prepare">prepare</a></li><li data-type='method'><a href="module-sdk_lib_api_challenges_choice_recognition.html#.prepareChallenge">prepareChallenge</a></li><li data-type='method'><a href="module-sdk_lib_api_challenges_choice_recognition.html#.recognise">recognise</a></li><li data-type='method'><a href="module-sdk_lib_api_challenges_choice_recognition.html#.recogniseAudioStream">recogniseAudioStream</a></li><li data-type='method'><a href="module-sdk_lib_api_challenges_choice_recognition.html#~url">url</a></li></ul></li><li><a href="module-sdk_lib_api_challenges_feedback.html">sdk/lib/api/challenges/feedback</a><ul class='methods'><li data-type='method'><a href="module-sdk_lib_api_challenges_feedback.html#.create">create</a></li><li data-type='method'><a href="module-sdk_lib_api_challenges_feedback.html#.getAll">getAll</a></li><li data-type='method'><a href="module-sdk_lib_api_challenges_feedback.html#.getById">getById</a></li></ul></li><li><a href="module-sdk_lib_api_challenges_feedback_speech.html">sdk/lib/api/challenges/feedback/speech</a><ul class='methods'><li data-type='method'><a href="module-sdk_lib_api_challenges_feedback_speech.html#.feedback">feedback</a></li><li data-type='method'><a href="module-sdk_lib_api_challenges_feedback_speech.html#.listenAndReply">listenAndReply</a></li><li data-type='method'><a href="module-sdk_lib_api_challenges_feedback_speech.html#.pause">pause</a></li><li data-type='method'><a href="module-sdk_lib_api_challenges_feedback_speech.html#.prepare">prepare</a></li><li data-type='method'><a href="module-sdk_lib_api_challenges_feedback_speech.html#.resume">resume</a></li></ul></li><li><a href="module-sdk_lib_api_challenges_pronunciation.html">sdk/lib/api/challenges/pronunciation</a><ul class='methods'><li data-type='method'><a href="module-sdk_lib_api_challenges_pronunciation.html#.create">create</a></li><li data-type='method'><a href="module-sdk_lib_api_challenges_pronunciation.html#.deleteChallenge">deleteChallenge</a></li><li data-type='method'><a href="module-sdk_lib_api_challenges_pronunciation.html#.getAll">getAll</a></li><li data-type='method'><a href="module-sdk_lib_api_challenges_pronunciation.html#.getById">getById</a></li></ul></li><li><a href="module-sdk_lib_api_challenges_pronunciation_analysis.html">sdk/lib/api/challenges/pronunciation/analysis</a><ul class='methods'><li data-type='method'><a href="module-sdk_lib_api_challenges_pronunciation_analysis.html#.alignChallenge">alignChallenge</a></li><li data-type='method'><a href="module-sdk_lib_api_challenges_pronunciation_analysis.html#.endStreamAudio">endStreamAudio</a></li><li data-type='method'><a href="module-sdk_lib_api_challenges_pronunciation_analysis.html#.getById">getById</a></li><li data-type='method'><a href="module-sdk_lib_api_challenges_pronunciation_analysis.html#.prepare">prepare</a></li><li data-type='method'><a href="module-sdk_lib_api_challenges_pronunciation_analysis.html#.prepareAudio">prepareAudio</a></li><li data-type='method'><a href="module-sdk_lib_api_challenges_pronunciation_analysis.html#.prepareChallenge">prepareChallenge</a></li><li data-type='method'><a href="module-sdk_lib_api_challenges_pronunciation_analysis.html#.streamAudio">streamAudio</a></li><li data-type='method'><a href="module-sdk_lib_api_challenges_pronunciation_analysis.html#~url">url</a></li></ul></li><li><a href="module-sdk_lib_api_challenges_speech.html">sdk/lib/api/challenges/speech</a><ul class='methods'><li data-type='method'><a href="module-sdk_lib_api_challenges_speech.html#.create">create</a></li><li data-type='method'><a href="module-sdk_lib_api_challenges_speech.html#.getAll">getAll</a></li><li data-type='method'><a href="module-sdk_lib_api_challenges_speech.html#.getById">getById</a></li></ul></li><li><a href="module-sdk_lib_api_challenges_speech_recordings.html">sdk/lib/api/challenges/speech/recordings</a><ul class='methods'><li data-type='method'><a href="module-sdk_lib_api_challenges_speech_recordings.html#.getAll">getAll</a></li><li data-type='method'><a href="module-sdk_lib_api_challenges_speech_recordings.html#.getById">getById</a></li><li data-type='method'><a href="module-sdk_lib_api_challenges_speech_recordings.html#.record">record</a></li><li data-type='method'><a href="module-sdk_lib_api_challenges_speech_recordings.html#~url">url</a></li></ul></li><li><a href="module-sdk_lib_api_communication.html">sdk/lib/api/communication</a><ul class='members'><li data-type='member'><a href="module-sdk_lib_api_communication.html#.settings">settings</a></li><li data-type='member'><a href="module-sdk_lib_api_communication.html#~APPLICATION_JSON">APPLICATION_JSON</a></li><li data-type='member'><a href="module-sdk_lib_api_communication.html#~AUTHORIZATION">AUTHORIZATION</a></li><li data-type='member'><a href="module-sdk_lib_api_communication.html#~CONTENT_TYPE">CONTENT_TYPE</a></li></ul><ul class='methods'><li data-type='method'><a href="module-sdk_lib_api_communication.html#.authorisedRequest">authorisedRequest</a></li><li data-type='method'><a href="module-sdk_lib_api_communication.html#.request">request</a></li><li data-type='method'><a href="module-sdk_lib_api_communication.html#.updateSettings">updateSettings</a></li><li data-type='method'><a href="module-sdk_lib_api_communication.html#~getBearerToken">getBearerToken</a></li><li data-type='method'><a href="module-sdk_lib_api_communication.html#~handleResponse">handleResponse</a></li></ul></li><li><a href="module-sdk_lib_api_communication_websocket.html">sdk/lib/api/communication/websocket</a><ul class='methods'><li data-type='method'><a href="module-sdk_lib_api_communication_websocket.html#.closeWebsocketConnection">closeWebsocketConnection</a></li><li data-type='method'><a href="module-sdk_lib_api_communication_websocket.html#.getWebsocketConnection">getWebsocketConnection</a></li><li data-type='method'><a href="module-sdk_lib_api_communication_websocket.html#.makeWebsocketCall">makeWebsocketCall</a></li><li data-type='method'><a href="module-sdk_lib_api_communication_websocket.html#.openWebsocketConnection">openWebsocketConnection</a></li><li data-type='method'><a href="module-sdk_lib_api_communication_websocket.html#~establishNewBundesbahn">establishNewBundesbahn</a></li><li data-type='method'><a href="module-sdk_lib_api_communication_websocket.html#~handleWebsocketAuthorisationChallenge">handleWebsocketAuthorisationChallenge</a></li></ul></li><li><a href="module-sdk_lib_api_emailauth.html">sdk/lib/api/emailauth</a><ul class='methods'><li data-type='method'><a href="module-sdk_lib_api_emailauth.html#.create">create</a></li><li data-type='method'><a href="module-sdk_lib_api_emailauth.html#~url">url</a></li></ul></li><li><a href="module-sdk_lib_api_groups.html">sdk/lib/api/groups</a><ul class='methods'><li data-type='method'><a href="module-sdk_lib_api_groups.html#.create">create</a></li><li data-type='method'><a href="module-sdk_lib_api_groups.html#.getAll">getAll</a></li><li data-type='method'><a href="module-sdk_lib_api_groups.html#.getById">getById</a></li></ul></li><li><a href="module-sdk_lib_api_organisations.html">sdk/lib/api/organisations</a><ul class='methods'><li data-type='method'><a href="module-sdk_lib_api_organisations.html#.create">create</a></li><li data-type='method'><a href="module-sdk_lib_api_organisations.html#.getAll">getAll</a></li><li data-type='method'><a href="module-sdk_lib_api_organisations.html#.getById">getById</a></li></ul></li><li><a href="module-sdk_lib_api_profile.html">sdk/lib/api/profile</a><ul class='methods'><li data-type='method'><a href="module-sdk_lib_api_profile.html#.create">create</a></li><li data-type='method'><a href="module-sdk_lib_api_profile.html#.getById">getById</a></li><li data-type='method'><a href="module-sdk_lib_api_profile.html#.getCurrent">getCurrent</a></li><li data-type='method'><a href="module-sdk_lib_api_profile.html#~url">url</a></li></ul></li><li><a href="module-sdk_lib_api_progress.html">sdk/lib/api/progress</a><ul class='methods'><li data-type='method'><a href="module-sdk_lib_api_progress.html#.getById">getById</a></li></ul></li><li><a href="module-sdk_lib_api_roles.html">sdk/lib/api/roles</a><ul class='methods'><li data-type='method'><a href="module-sdk_lib_api_roles.html#.create">create</a></li><li data-type='method'><a href="module-sdk_lib_api_roles.html#.getAll">getAll</a></li><li data-type='method'><a href="module-sdk_lib_api_roles.html#.getById">getById</a></li></ul></li><li><a href="module-sdk_lib_api_tenants.html">sdk/lib/api/tenants</a><ul class='methods'><li data-type='method'><a href="module-sdk_lib_api_tenants.html#.create">create</a></li><li data-type='method'><a href="module-sdk_lib_api_tenants.html#.getAll">getAll</a></li><li data-type='method'><a href="module-sdk_lib_api_tenants.html#.getById">getById</a></li></ul></li><li><a href="module-sdk_lib_api_users.html">sdk/lib/api/users</a><ul class='methods'><li data-type='method'><a href="module-sdk_lib_api_users.html#.create">create</a></li><li data-type='method'><a href="module-sdk_lib_api_users.html#.getAll">getAll</a></li><li data-type='method'><a href="module-sdk_lib_api_users.html#.getById">getById</a></li><li data-type='method'><a href="module-sdk_lib_api_users.html#.getCurrent">getCurrent</a></li></ul></li><li><a href="module-sdk_lib_api_utils.html">sdk/lib/api/utils</a><ul class='methods'><li data-type='method'><a href="module-sdk_lib_api_utils.html#.dataToBase64">dataToBase64</a></li></ul></li><li><a href="module-sdk_lib_api_utils_audio-over-socket.html">sdk/lib/api/utils/audio-over-socket</a><ul class='methods'><li data-type='method'><a href="module-sdk_lib_api_utils_audio-over-socket.html#.encodeAndSendAudioOnDataAvailable">encodeAndSendAudioOnDataAvailable</a></li><li data-type='method'><a href="module-sdk_lib_api_utils_audio-over-socket.html#.prepareServerForAudio">prepareServerForAudio</a></li><li data-type='method'><a href="module-sdk_lib_api_utils_audio-over-socket.html#.registerStreamForRecorder">registerStreamForRecorder</a></li><li data-type='method'><a href="module-sdk_lib_api_utils_audio-over-socket.html#.waitForUserMediaApproval">waitForUserMediaApproval</a></li></ul></li><li><a href="module-sdk_lib_audio_audio-player.html">sdk/lib/audio/audio-player</a></li><li><a href="module-sdk_lib_audio_audio-recorder.html">sdk/lib/audio/audio-recorder</a></li><li><a href="module-sdk_lib_audio_audio-tools.html">sdk/lib/audio/audio-tools</a><ul class='methods'><li data-type='method'><a href="module-sdk_lib_audio_audio-tools.html#.generateWaveSample">generateWaveSample</a></li></ul></li><li><a href="module-sdk_lib_audio_tools.html">sdk/lib/audio/tools</a></li><li><a href="module-sdk_lib_audio_wave-packer.html">sdk/lib/audio/wave-packer</a><ul class='methods'><li data-type='method'><a href="module-sdk_lib_audio_wave-packer.html#.createWAVEHeader">createWAVEHeader</a></li><li data-type='method'><a href="module-sdk_lib_audio_wave-packer.html#.wordToUTF8ByteArray">wordToUTF8ByteArray</a></li></ul></li><li><a href="module-sdk_lib_WebAudio_AudioContext.html">sdk/lib/WebAudio/AudioContext</a></li><li><a href="module-sdk_lib_WebAudio_Player.html">sdk/lib/WebAudio/Player</a></li><li><a href="module-sdk_lib_WebAudio_Recorder.html">sdk/lib/WebAudio/Recorder</a></li></ul><h3>Classes</h3><ul><li><a href="module-sdk.Itslanguage.html">Itslanguage</a></li><li><a href="module-sdk_lib_audio_audio-player-AudioPlayer.html">AudioPlayer</a><ul class='methods'><li data-type='method'><a href="module-sdk_lib_audio_audio-player-AudioPlayer.html#addEventListener">addEventListener</a></li><li data-type='method'><a href="module-sdk_lib_audio_audio-player-AudioPlayer.html#bindStopwatch">bindStopwatch</a></li><li data-type='method'><a href="module-sdk_lib_audio_audio-player-AudioPlayer.html#canPlay">canPlay</a></li><li data-type='method'><a href="module-sdk_lib_audio_audio-player-AudioPlayer.html#getAudioVolume">getAudioVolume</a></li><li data-type='method'><a href="module-sdk_lib_audio_audio-player-AudioPlayer.html#getBufferFill">getBufferFill</a></li><li data-type='method'><a href="module-sdk_lib_audio_audio-player-AudioPlayer.html#getCurrentTime">getCurrentTime</a></li><li data-type='method'><a href="module-sdk_lib_audio_audio-player-AudioPlayer.html#getDuration">getDuration</a></li><li data-type='method'><a href="module-sdk_lib_audio_audio-player-AudioPlayer.html#getPlaybackRate">getPlaybackRate</a></li><li data-type='method'><a href="module-sdk_lib_audio_audio-player-AudioPlayer.html#isAudioMuted">isAudioMuted</a></li><li data-type='method'><a href="module-sdk_lib_audio_audio-player-AudioPlayer.html#isPlaying">isPlaying</a></li><li data-type='method'><a href="module-sdk_lib_audio_audio-player-AudioPlayer.html#load">load</a></li><li data-type='method'><a href="module-sdk_lib_audio_audio-player-AudioPlayer.html#pause">pause</a></li><li data-type='method'><a href="module-sdk_lib_audio_audio-player-AudioPlayer.html#play">play</a></li><li data-type='method'><a href="module-sdk_lib_audio_audio-player-AudioPlayer.html#preload">preload</a></li><li data-type='method'><a href="module-sdk_lib_audio_audio-player-AudioPlayer.html#removeEventListener">removeEventListener</a></li><li data-type='method'><a href="module-sdk_lib_audio_audio-player-AudioPlayer.html#reset">reset</a></li><li data-type='method'><a href="module-sdk_lib_audio_audio-player-AudioPlayer.html#resetEventListeners">resetEventListeners</a></li><li data-type='method'><a href="module-sdk_lib_audio_audio-player-AudioPlayer.html#scrub">scrub</a></li><li data-type='method'><a href="module-sdk_lib_audio_audio-player-AudioPlayer.html#setAudioMute">setAudioMute</a></li><li data-type='method'><a href="module-sdk_lib_audio_audio-player-AudioPlayer.html#setAudioVolume">setAudioVolume</a></li><li data-type='method'><a href="module-sdk_lib_audio_audio-player-AudioPlayer.html#setPlaybackRate">setPlaybackRate</a></li><li data-type='method'><a href="module-sdk_lib_audio_audio-player-AudioPlayer.html#stop">stop</a></li><li data-type='method'><a href="module-sdk_lib_audio_audio-player-AudioPlayer.html#toggleAudioMute">toggleAudioMute</a></li><li data-type='method'><a href="module-sdk_lib_audio_audio-player-AudioPlayer.html#togglePlayback">togglePlayback</a></li></ul></li><li><a href="module-sdk_lib_audio_audio-recorder-AudioRecorder.html">AudioRecorder</a><ul class='methods'><li data-type='method'><a href="module-sdk_lib_audio_audio-recorder-AudioRecorder.html#.createAudioContext">createAudioContext</a></li><li data-type='method'><a href="module-sdk_lib_audio_audio-recorder-AudioRecorder.html#addEventListener">addEventListener</a></li><li data-type='method'><a href="module-sdk_lib_audio_audio-recorder-AudioRecorder.html#bindStopwatch">bindStopwatch</a></li><li data-type='method'><a href="module-sdk_lib_audio_audio-recorder-AudioRecorder.html#getAudioSpecs">getAudioSpecs</a></li><li data-type='method'><a href="module-sdk_lib_audio_audio-recorder-AudioRecorder.html#hasUserMediaApproval">hasUserMediaApproval</a></li><li data-type='method'><a href="module-sdk_lib_audio_audio-recorder-AudioRecorder.html#isPaused">isPaused</a></li><li data-type='method'><a href="module-sdk_lib_audio_audio-recorder-AudioRecorder.html#isRecording">isRecording</a></li><li data-type='method'><a href="module-sdk_lib_audio_audio-recorder-AudioRecorder.html#record">record</a></li><li data-type='method'><a href="module-sdk_lib_audio_audio-recorder-AudioRecorder.html#removeAllEventListeners">removeAllEventListeners</a></li><li data-type='method'><a href="module-sdk_lib_audio_audio-recorder-AudioRecorder.html#removeEventListener">removeEventListener</a></li><li data-type='method'><a href="module-sdk_lib_audio_audio-recorder-AudioRecorder.html#requestUserMedia">requestUserMedia</a></li><li data-type='method'><a href="module-sdk_lib_audio_audio-recorder-AudioRecorder.html#startRecordingSession">startRecordingSession</a></li><li data-type='method'><a href="module-sdk_lib_audio_audio-recorder-AudioRecorder.html#stop">stop</a></li><li data-type='method'><a href="module-sdk_lib_audio_audio-recorder-AudioRecorder.html#streamCallback">streamCallback</a></li><li data-type='method'><a href="module-sdk_lib_audio_audio-recorder-AudioRecorder.html#toggleRecording">toggleRecording</a></li></ul></li><li><a href="module-sdk_lib_audio_audio-tools-VolumeMeter.html">VolumeMeter</a><ul class='methods'><li data-type='method'><a href="module-sdk_lib_audio_audio-tools-VolumeMeter.html#getVolumeIndication">getVolumeIndication</a></li><li data-type='method'><a href="module-sdk_lib_audio_audio-tools-VolumeMeter.html#resumeAnalyser">resumeAnalyser</a></li><li data-type='method'><a href="module-sdk_lib_audio_audio-tools-VolumeMeter.html#stopAnalyser">stopAnalyser</a></li><li data-type='method'><a href="module-sdk_lib_audio_audio-tools-VolumeMeter.html#updateAnalysers">updateAnalysers</a></li></ul></li><li><a href="module-sdk_lib_audio_tools-Stopwatch.html">Stopwatch</a><ul class='methods'><li data-type='method'><a href="module-sdk_lib_audio_tools-Stopwatch.html#reset">reset</a></li><li data-type='method'><a href="module-sdk_lib_audio_tools-Stopwatch.html#start">start</a></li><li data-type='method'><a href="module-sdk_lib_audio_tools-Stopwatch.html#stop">stop</a></li><li data-type='method'><a href="module-sdk_lib_audio_tools-Stopwatch.html#tick">tick</a></li><li data-type='method'><a href="module-sdk_lib_audio_tools-Stopwatch.html#update">update</a></li></ul></li><li><a href="module-sdk_lib_audio_wave-packer-WavePacker.html">WavePacker</a><ul class='methods'><li data-type='method'><a href="module-sdk_lib_audio_wave-packer-WavePacker.html#.writeUTFBytes">writeUTFBytes</a></li><li data-type='method'><a href="module-sdk_lib_audio_wave-packer-WavePacker.html#encodeWAV">encodeWAV</a></li><li data-type='method'><a href="module-sdk_lib_audio_wave-packer-WavePacker.html#init">init</a></li></ul></li><li><a href="module-sdk_lib_WebAudio_AudioContext-AudioContext.html">AudioContext</a><ul class='methods'><li data-type='method'><a href="module-sdk_lib_WebAudio_AudioContext-AudioContext.html#.createAudioContext">createAudioContext</a></li><li data-type='method'><a href="module-sdk_lib_WebAudio_AudioContext-AudioContext.html#addEventListener">addEventListener</a></li><li data-type='method'><a href="module-sdk_lib_WebAudio_AudioContext-AudioContext.html#fireEvent">fireEvent</a></li><li data-type='method'><a href="module-sdk_lib_WebAudio_AudioContext-AudioContext.html#removeEventListener">removeEventListener</a></li><li data-type='method'><a href="module-sdk_lib_WebAudio_AudioContext-AudioContext.html#resumeAudioContext">resumeAudioContext</a></li><li data-type='method'><a href="module-sdk_lib_WebAudio_AudioContext-AudioContext.html#suspendAudioContext">suspendAudioContext</a></li></ul></li><li><a href="module-sdk_lib_WebAudio_Player-Player.html">Player</a><ul class='methods'><li data-type='method'><a href="module-sdk_lib_WebAudio_Player-Player.html#audioBufferExists">audioBufferExists</a></li><li data-type='method'><a href="module-sdk_lib_WebAudio_Player-Player.html#audioSourceExists">audioSourceExists</a></li><li data-type='method'><a href="module-sdk_lib_WebAudio_Player-Player.html#createBufferSource">createBufferSource</a></li><li data-type='method'><a href="module-sdk_lib_WebAudio_Player-Player.html#disconnectBufferSource">disconnectBufferSource</a></li><li data-type='method'><a href="module-sdk_lib_WebAudio_Player-Player.html#getAudioContext">getAudioContext</a></li><li data-type='method'><a href="module-sdk_lib_WebAudio_Player-Player.html#getBufferSource">getBufferSource</a></li><li data-type='method'><a href="module-sdk_lib_WebAudio_Player-Player.html#getCurrentTime">getCurrentTime</a></li><li data-type='method'><a href="module-sdk_lib_WebAudio_Player-Player.html#getDuration">getDuration</a></li><li data-type='method'><a href="module-sdk_lib_WebAudio_Player-Player.html#isPlaying">isPlaying</a></li><li data-type='method'><a href="module-sdk_lib_WebAudio_Player-Player.html#load">load</a></li><li data-type='method'><a href="module-sdk_lib_WebAudio_Player-Player.html#mute">mute</a></li><li data-type='method'><a href="module-sdk_lib_WebAudio_Player-Player.html#pause">pause</a></li><li data-type='method'><a href="module-sdk_lib_WebAudio_Player-Player.html#play">play</a></li><li data-type='method'><a href="module-sdk_lib_WebAudio_Player-Player.html#setVolume">setVolume</a></li><li data-type='method'><a href="module-sdk_lib_WebAudio_Player-Player.html#stop">stop</a></li></ul></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">WebAudio/AudioContext.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import debug from 'debug';

/**
 * Recorder
 * Simple Audio Recorder based on WebAudio technology
 * @module sdk/lib/WebAudio/AudioContext
 */
class AudioContext {
  /**
   * Construct the Player.
   *
   * @param {Object} audioContext - Allow to provide custom/own audioContext object.
   * @param {string} debugNameSpace - Name to be used for debugging.
   */
  constructor(audioContext = null, debugNameSpace = 'AudioContext') {
    /**
     * Private object to hold AudioContext node.
     * @type {AudioContext}
     */
    this.audioContext = null;

    /**
     * This will be the log function.
     * Will output to stdout.
     * @type {Function}
     */
    this.log = null;

    /**
     * This will be the error function.
     * Will output to stderr.
     * @type {Function}
     */
    this.error = null;

    /**
     * Keep a list of all registered event listeners.
     * This way, we could conveniently remove all the listeners at once.
     * @type {Array}
     */
    this.eventListeners = [];

    // Provide AudioContext object. If not passed the
    // default window.AudioContext will be used.
    if (audioContext) {
      this.audioContext = audioContext;
    } else {
      this.audioContext = AudioContext.createAudioContext();
    }

    // Prepare the log and error function to be used!
    this.log = debug(`its-sdk:${debugNameSpace}`);
    this.error = debug(`its-sdk:${debugNameSpace}`);

    // Bind log to stdout in stead of stderr
    this.log.log = console.log.bind(console);

    this.suspendAudioContext = this.suspendAudioContext.bind(this);
  }

  /**
   * Wraps the addEventListener which is available on the AudioContext node.
   * Note that it is required to pass a named function to actually be able
   * to remove an event listeners. This is just how the EventTarget.removeEventListener
   * works. There are no extra checks for.
   *
   * @see https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/attachEvent
   * @param {...*} args - Array with passed arguments.
   */
  addEventListener(...args) {
    // First, add the event listener to our local list.
    this.eventListeners.push(args);

    // Now, actually add the event listener!
    this.audioContext.addEventListener(...args);
  }

  /**
   * Wraps the removeEventListener which is available on the AudioContext node.
   * Make sure to call with the same arguments as the addEventListener.
   *
   * If you didn't call the addEventListener with a named function, please note
   * that you won't be able to remove the eventListener.
   *
   * @see https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/removeEventListener
   * @param {...*} args - Array with passed arguments.
   */
  removeEventListener(...args) {
    // First, try to find the event in our list.
    const itemIndex = this.eventListeners.findIndex((item) => {
      // If the count of items doesn't equal, it's definitely not the
      // listener we want to remove.
      if (item.length !== args.length) {
        return false;
      }

      // Now we're gonna loop through the items to check if we can
      // find an item which does not compare equal. If we find one
      // 'some' will immediately return true and the party is over!
      // Wubba lubba dub dub!
      return !args.some((arg, index) => item[index] !== arg);
    });

    // Remove that item, and only that one, from the list
    if (itemIndex) {
      this.eventListeners.splice(itemIndex, 1);
    }

    // Remove the event handler!
    this.audioContext.removeEventListener(...args);
  }

  removeAllEventListeners() {
    this.eventListeners.forEach((listener) => {
      this.removeEventListener(...listener);
    });
    this.eventListeners = [];
  }

  /**
   * Use this method to conveniently fire an event.
   * We could, if we wanted, add some data.
   *
   * @param {string} eventName - Event to fire.
   * @param {Object} data - Data to pass as detail.
   */
  fireEvent(eventName, data = null) {
    if (!eventName) {
      return;
    }
    const customEvent = new CustomEvent(eventName, { detail: data });
    this.audioContext.dispatchEvent(customEvent);
  }

  /**
   * Get the audio context or create one.
   *
   * @return {AudioContext} The AudioContext created will be returned.
   */
  static createAudioContext() {
    if (!window.ItslAudioContext) {
      window.AudioContext = window.AudioContext || window.webkitAudioContext;
      window.ItslAudioContext = new window.AudioContext();
    }
    return window.ItslAudioContext;
  }

  /**
   * Suspend the AudioContext to preserve power and such.
   */
  suspendAudioContext() {
    this.audioContext.suspend();
  }

  /**
   * Resume a suspended AudioContext.
   */
  resumeAudioContext() {
    if (this.audioContext.state === 'suspended') {
      this.audioContext.resume();
    }
  }
}

export default AudioContext;
</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Tue Nov 27 2018 21:32:01 GMT+0000 (UTC) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/jquery-3.1.1.min.js"></script>

<script src="scripts/search.js"></script>




</body>
</html>
